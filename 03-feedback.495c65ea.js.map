{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,QAEhCC,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,wBAChC,OAAhBJ,IACAK,QAAQC,MAAQN,EAAYO,MAC5BC,UAAUF,MAAQN,EAAYS,SAGlC,IAAMC,EAAqBC,EAAAhB,GAAEiB,UAAS,WAClC,IAAMC,EAAoB,CACtBN,MAAOF,QAAQC,MACfG,QAAUD,UAAUF,OAExBH,aAAaW,QAAQ,sBAAuBb,KAAKc,UAAUF,G,GAC5D,KASHhB,EAAOmB,iBAAiB,SAPxB,SAAwBC,GACpB,IAAMC,EAASD,EAAMC,QACjBA,EAAOC,QAAQ,UAAYD,EAAOC,QAAQ,cAC1CT,G,IAaRb,EAAOmB,iBAAiB,UAPxB,SAAwBC,GACpBA,EAAMG,iBACNC,QAAQC,IAAIrB,KAAKC,MAAMC,aAAaC,QAAQ,yBAC5CP,EAAO0B,QACPpB,aAAaqB,WAAW,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst formEl = document.querySelector('form');\n\nconst storageData = JSON.parse(localStorage.getItem('feedback-form-state'));\nif (storageData !== null) {\n    emailEl.value = storageData.email;\n    messageEl.value = storageData.message;\n};\n\nconst updateLocalStorage = _.throttle(() => {\n    const feedbackFormState = {\n        email: emailEl.value,\n        message : messageEl.value,\n    }\n    localStorage.setItem('feedback-form-state', JSON.stringify(feedbackFormState));\n}, 500);\n\nfunction onFormElInput (event) {\n    const target = event.target;\n    if (target.matches('input') || target.matches('textarea')) {\n        updateLocalStorage();\n    };\n};\n\nformEl.addEventListener('input', onFormElInput);\n\nfunction onFormElSubmit(event) {\n    event.preventDefault();\n    console.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n    formEl.reset();\n    localStorage.removeItem('feedback-form-state');\n};\n\nformEl.addEventListener('submit', onFormElSubmit);\n\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$storageData","JSON","parse","localStorage","getItem","emailEl","value","email","messageEl","message","$b00c40859be242c5$var$updateLocalStorage","$parcel$interopDefault","throttle","feedbackFormState","setItem","stringify","addEventListener","event","target","matches","preventDefault","console","log","reset","removeItem"],"version":3,"file":"03-feedback.495c65ea.js.map"}